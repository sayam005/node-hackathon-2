<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultimate Recipe Hub - Kya Banau Aaj? üç≥</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            font-family: 'Arial', sans-serif;
        }
        .recipe-hub {
            background: white;
            border-radius: 20px;
            padding: 40px;
            margin: 40px auto;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            max-width: 1200px;
        }
        .home-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255,255,255,0.2);
            border: none;
            border-radius: 50px;
            padding: 10px 15px;
            color: white;
            text-decoration: none;
            backdrop-filter: blur(10px);
        }
        .home-btn:hover {
            background: rgba(255,255,255,0.3);
            color: white;
        }
        .mode-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            border: none;
            border-radius: 50px;
            padding: 15px 25px;
            color: white;
            font-weight: bold;
            margin: 10px;
            transition: all 0.3s ease;
        }
        .mode-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            color: white;
        }
        .mode-btn.active {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
        }
        .recipe-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 15px;
            padding: 25px;
            margin: 15px 0;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .recipe-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
        }
        .content-section {
            display: none;
            padding: 20px 0;
        }
        .ingredient-btn {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 50px;
            padding: 8px 15px;
            margin: 3px;
            transition: all 0.3s ease;
            cursor: pointer;
            font-size: 0.9rem;
        }
        .ingredient-btn.selected {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            color: white;
            border-color: transparent;
        }
        .ingredient-btn:hover {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            color: white;
            border-color: transparent;
        }
        .alert {
            border-radius: 15px;
            border: none;
        }
        .badge {
            font-size: 0.8rem;
            padding: 6px 12px;
            border-radius: 20px;
        }
        .video-card {
            background: #f8f9fa;
            border-radius: 10px;
            transition: transform 0.3s ease;
        }
        .video-card:hover {
            transform: translateY(-3px);
        }
    </style>
</head>
<body>
    <a href="{{ url_for('mummy_pizza.index') }}" class="home-btn">
        <i class="fas fa-home"></i> Home
    </a>

    <div class="container">
        <div class="recipe-hub">
            <!-- Header -->
            <div class="text-center mb-4">
                <h1><i class="fas fa-utensils"></i> Ultimate Recipe Hub</h1>
                <p class="lead text-muted">Random recipes aur fridge ke jugaad - sab kuch ek jagah! Mummy approved! üç≥</p>
                <div class="alert alert-info">
                    <strong>üí° Pro Tip:</strong> Kitchen mein jane se pehle mummy ka mood check kar lo! üòÑ
                </div>
            </div>

            <!-- Mode Selector -->
            <div class="text-center mb-4">
                <button class="btn mode-btn active" onclick="setMode('random')" id="randomBtn">
                    <i class="fas fa-random"></i> Random Recipe Magic
                </button>
                <button class="btn mode-btn" onclick="setMode('fridge')" id="fridgeBtn">
                    <i class="fas fa-search"></i> Fridge Detective
                </button>
            </div>

            <!-- Random Recipe Mode -->
            <div id="randomMode" class="content-section" style="display: block;">
                <div class="text-center">
                    <h3>üé≤ Random Recipe Generator</h3>
                    <p class="text-muted">Surprise me with something delicious! Bharosa rakho algorithm pe! üòã</p>
                    <button id="generateRandomBtn" class="btn btn-lg mode-btn">
                        <i class="fas fa-magic"></i> Generate Mummy-Approved Recipe!
                    </button>
                    
                    <div class="alert alert-warning mt-3">
                        <h6><i class="fas fa-lightbulb"></i> Random Recipe Wisdom:</h6>
                        <p class="mb-0">"Jo milta hai woh banao, jo nahi milta woh imagine karo!" - Desi Kitchen Philosophy üß†</p>
                    </div>
                </div>
                <div id="randomRecipeResult"></div>
            </div>

            <!-- Fridge Check Mode -->
            <div id="fridgeMode" class="content-section">
                <h3><i class="fas fa-snowflake"></i> Fridge Ingredient Detective</h3>
                <p class="text-muted">Fridge mein kya hai? Select karo aur magic dekhiye! Sherlock Holmes level detection! üîç</p>
                
                <div class="row">
                    <div class="col-md-8">
                        <h6>Common Desi Ingredients:</h6>
                        <div id="ingredientsList" class="mb-3">
                            <!-- Will be populated by JavaScript -->
                        </div>
                        
                        <div class="alert alert-success">
                            <h6><i class="fas fa-chef-hat"></i> Mummy Ka Fridge Tip:</h6>
                            <p class="mb-0">"Aloo, onion, tomato hai toh kuch na kuch ban hi jayega!" - Universal Mom Truth üë©‚Äçüç≥</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <h6>Add Custom Ingredients:</h6>
                        <div class="input-group mb-3">
                            <input type="text" id="customIngredient" class="form-control" placeholder="Type ingredient..." onkeypress="if(event.key==='Enter') addCustomIngredient()">
                            <button class="btn btn-outline-success" onclick="addCustomIngredient()">
                                <i class="fas fa-plus"></i> Add
                            </button>
                        </div>
                        
                        <div class="alert alert-info">
                            <h6><i class="fas fa-magic"></i> Secret Ingredients:</h6>
                            <small>Try adding: "love", "mummy ka pyaar", "dil se" for bonus points! üòÑ</small>
                        </div>
                    </div>
                </div>
                
                <div class="text-center mt-3">
                    <button id="findRecipesBtn" class="btn btn-success btn-lg" disabled>
                        <i class="fas fa-search"></i> Find Perfect Recipes!
                    </button>
                    <p class="text-muted mt-2">
                        <small>Selected: <span id="selectedCount">0</span> ingredients</small>
                    </p>
                    
                    <!-- Add this quick preview section -->
                    <div id="quickPreview"></div>
                </div>
                <div id="fridgeRecipeResults"></div>
            </div>

            <!-- Recipe Display Area -->
            <div id="recipeDisplay"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let selectedIngredients = [];
        let currentRecipe = null;

        // Enhanced ingredients data with categories
        const ingredientCategories = {
            "Staples": ["rice", "dal", "atta", "oil", "namak", "sugar"],
            "Vegetables": ["onion", "tomato", "aloo", "hari mirch", "adrak", "lahsun", "capsicum", "gajar", "matar"],
            "Dairy & Protein": ["cheese", "milk", "dahi", "eggs", "paneer", "butter"],
            "Pantry Items": ["bread", "maggi", "pasta", "rice flakes", "tea leaves"],
            "Spices": ["jeera", "haldi", "lal mirch", "dhania", "garam masala", "hing"],
            "Extras": ["corn", "cucumber", "leftover rice", "leftover dal"]
        };

        // Set mode function
        function setMode(mode) {
            document.querySelectorAll('.mode-btn').forEach(btn => btn.classList.remove('active'));
            document.querySelectorAll('.content-section').forEach(section => {
                section.style.display = 'none';
            });

            if (mode === 'random') {
                document.getElementById('randomMode').style.display = 'block';
                document.getElementById('randomBtn').classList.add('active');
            } else if (mode === 'fridge') {
                document.getElementById('fridgeMode').style.display = 'block';
                document.getElementById('fridgeBtn').classList.add('active');
                populateIngredientsByCategory();
            }
        }

        // Enhanced populate ingredients with categories
        function populateIngredientsByCategory() {
            const container = document.getElementById('ingredientsList');
            container.innerHTML = '';
            
            Object.entries(ingredientCategories).forEach(([category, ingredients]) => {
                // Create category header
                const categoryHeader = document.createElement('div');
                categoryHeader.className = 'mt-3 mb-2';
                categoryHeader.innerHTML = `<h6 class="text-primary"><i class="fas fa-list"></i> ${category}:</h6>`;
                container.appendChild(categoryHeader);
                
                // Create ingredient buttons for this category
                const categoryContainer = document.createElement('div');
                categoryContainer.className = 'mb-3';
                
                ingredients.forEach(ingredient => {
                    const btn = document.createElement('button');
                    btn.className = 'btn ingredient-btn';
                    btn.textContent = ingredient;
                    btn.onclick = () => toggleIngredient(ingredient, btn);
                    categoryContainer.appendChild(btn);
                });
                
                container.appendChild(categoryContainer);
            });
        }

        // Enhanced toggle ingredient function
        function toggleIngredient(ingredient, btn) {
            if (btn.classList.contains('selected')) {
                btn.classList.remove('selected');
                selectedIngredients = selectedIngredients.filter(i => i !== ingredient);
            } else {
                btn.classList.add('selected');
                selectedIngredients.push(ingredient);
            }
            
            updateSelectedCount();
            
            // Show quick suggestions if enough ingredients selected
            if (selectedIngredients.length >= 2) {
                showQuickSuggestions();
            }
        }

        // Quick suggestions preview
        function showQuickSuggestions() {
            // This will show a preview of possible recipes without full API call
            const quickPreview = document.getElementById('quickPreview');
            if (quickPreview) {
                quickPreview.innerHTML = `
                    <div class="alert alert-info mt-2">
                        <small><i class="fas fa-magic"></i> With ${selectedIngredients.length} ingredients, you can make amazing recipes! Click "Find Recipes" for details!</small>
                    </div>
                `;
            }
        }

        // Update selected count
        function updateSelectedCount() {
            document.getElementById('selectedCount').textContent = selectedIngredients.length;
            document.getElementById('findRecipesBtn').disabled = selectedIngredients.length === 0;
            
            // Update button text based on ingredient count
            const btn = document.getElementById('findRecipesBtn');
            if (selectedIngredients.length >= 5) {
                btn.innerHTML = '<i class="fas fa-search"></i> Find Amazing Recipes!';
                btn.className = 'btn btn-success btn-lg';
            } else if (selectedIngredients.length >= 3) {
                btn.innerHTML = '<i class="fas fa-search"></i> Find Good Recipes!';
                btn.className = 'btn btn-warning btn-lg';
            } else if (selectedIngredients.length >= 1) {
                btn.innerHTML = '<i class="fas fa-search"></i> Find Basic Recipes!';
                btn.className = 'btn btn-info btn-lg';
            }
        }

        // Enhanced add custom ingredient
        function addCustomIngredient() {
            const input = document.getElementById('customIngredient');
            const ingredient = input.value.trim().toLowerCase();
            
            if (ingredient && !selectedIngredients.includes(ingredient)) {
                selectedIngredients.push(ingredient);
                
                const btn = document.createElement('button');
                btn.className = 'btn ingredient-btn selected';
                btn.innerHTML = `${ingredient} <i class="fas fa-times" style="margin-left: 5px;"></i>`;
                btn.onclick = () => {
                    btn.remove();
                    selectedIngredients = selectedIngredients.filter(i => i !== ingredient);
                    updateSelectedCount();
                };
                
                // Add to custom section
                let customSection = document.getElementById('customIngredientsSection');
                if (!customSection) {
                    customSection = document.createElement('div');
                    customSection.id = 'customIngredientsSection';
                    customSection.innerHTML = '<h6 class="text-success mt-3"><i class="fas fa-plus"></i> Your Custom Additions:</h6>';
                    document.getElementById('ingredientsList').appendChild(customSection);
                }
                
                customSection.appendChild(btn);
                input.value = '';
                updateSelectedCount();
            }
        }

        // Enhanced recipe list display
        function displayRecipeList(recipes, cookingTip = '', data = {}) {
            const container = document.getElementById('fridgeRecipeResults');
            
            const statsHtml = `
                <div class="row mb-3">
                    <div class="col-md-4">
                        <div class="alert alert-success text-center">
                            <h6>üéØ Perfect Matches</h6>
                            <h4>${data.perfect_matches || 0}</h4>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="alert alert-warning text-center">
                            <h6>‚ö° Partial Matches</h6>
                            <h4>${data.partial_matches || 0}</h4>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="alert alert-info text-center">
                            <h6>üìä Total Found</h6>
                            <h4>${data.total_found || recipes.length}</h4>
                        </div>
                    </div>
                </div>
            `;

            const suggestionsHtml = data.ingredient_suggestions && data.ingredient_suggestions.length > 0 ? `
                <div class="alert alert-primary">
                    <h6><i class="fas fa-lightbulb"></i> Smart Suggestions to Get More Recipes:</h6>
                    ${data.ingredient_suggestions.map(suggestion => `
                        <div class="mb-2">
                            <small><strong>Add:</strong> ${suggestion.ingredients.join(', ')} 
                            <em>‚Üí ${suggestion.benefit}</em></small>
                        </div>
                    `).join('')}
                </div>
            ` : '';
            
            container.innerHTML = `
                ${statsHtml}
                
                <div class="alert alert-success text-center">
                    <h5>üç≥ Recipe Results for Your Ingredients!</h5>
                    <p class="mb-0">"Fridge detective mode activated!" Click recipes for full details! üëá</p>
                </div>
                
                ${suggestionsHtml}
                
                ${cookingTip ? `
                    <div class="alert alert-primary">
                        <h6><i class="fas fa-chef-hat"></i> Today's Kitchen Wisdom:</h6>
                        <p class="mb-0">"${cookingTip}"</p>
                    </div>
                ` : ''}
                
                <div class="row">
                    ${recipes.map(recipe => `
                        <div class="col-md-6 mb-3">
                            <div class="recipe-card h-100" onclick="displayRecipe(${JSON.stringify(recipe).replace(/"/g, '&quot;')})">
                                <div class="d-flex justify-content-between align-items-start mb-2">
                                    <h5>${recipe.name}</h5>
                                    <span class="badge ${recipe.match_percentage >= 70 ? 'bg-success' : recipe.match_percentage >= 50 ? 'bg-warning' : 'bg-info'}">${recipe.match_percentage}%</span>
                                </div>
                                
                                <p class="mb-2">${recipe.description}</p>
                                
                                <div class="row text-center mb-2">
                                    <div class="col-4"><small><i class="fas fa-clock"></i> ${recipe.time}</small></div>
                                    <div class="col-4"><small><i class="fas fa-chart-bar"></i> ${recipe.difficulty}</small></div>
                                    <div class="col-4"><small><i class="fas fa-heart"></i> ${recipe.mom_approval}</small></div>
                                </div>
                                
                                ${recipe.available_ingredients && recipe.available_ingredients.length > 0 ? `
                                    <div class="mb-2">
                                        <h6 class="text-success"><i class="fas fa-check"></i> You Have:</h6>
                                        <div>
                                            ${recipe.available_ingredients.map(ing => `<span class="badge bg-success me-1">${ing}</span>`).join('')}
                                        </div>
                                    </div>
                                ` : ''}
                                
                                ${recipe.missing_ingredients && recipe.missing_ingredients.length > 0 ? `
                                    <div class="mb-2">
                                        <h6 class="text-warning"><i class="fas fa-shopping-cart"></i> Need to Buy:</h6>
                                        <div>
                                            ${recipe.missing_ingredients.map(ing => `<span class="badge bg-warning text-dark me-1">${ing}</span>`).join('')}
                                        </div>
                                    </div>
                                ` : ''}
                                
                                <div class="text-center mt-3">
                                    <small class="text-light">
                                        <i class="fas fa-video"></i> ${recipe.videos ? recipe.videos.length : 0} video tutorials available
                                    </small>
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
                
                ${recipes.length === 0 ? `
                    <div class="alert alert-warning text-center">
                        <h5>üòÖ No recipes found with these ingredients!</h5>
                        <p>"Creativity ka time hai!" Try adding more ingredients or go for random recipe!</p>
                        <button class="btn btn-primary" onclick="setMode('random')">
                            <i class="fas fa-random"></i> Try Random Recipe Instead
                        </button>
                    </div>
                ` : ''}
            `;
        }

        // Enhanced find recipes function
        document.getElementById('findRecipesBtn').addEventListener('click', async function() {
            if (selectedIngredients.length === 0) return;

            const originalText = this.innerHTML;
            this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Fridge detective kar rahe hain...';

            try {
                const response = await fetch('/mummy-pizza/api/suggest-recipes', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ ingredients: selectedIngredients })
                });

                const data = await response.json();
                
                if (data.success) {
                    displayRecipeList(data.recipes, data.cooking_tip, data);
                } else {
                    document.getElementById('fridgeRecipeResults').innerHTML = `
                        <div class="alert alert-danger text-center">
                            <h5>üòï Error occurred!</h5>
                            <p>${data.error || 'Something went wrong!'}</p>
                        </div>
                    `;
                }
                document.getElementById('fridgeRecipeResults').style.display = 'block';
            } catch (error) {
                document.getElementById('fridgeRecipeResults').innerHTML = `
                    <div class="alert alert-danger text-center">
                        <h5>üòï Connection Error!</h5>
                        <p>Internet connection ka problem hai! Try again!</p>
                    </div>
                `;
            } finally {
                this.innerHTML = originalText;
            }
        });

        // Generate random recipe
        document.getElementById('generateRandomBtn').addEventListener('click', async function() {
            this.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Mummy se permission le rahe hain...';
            
            try {
                const response = await fetch('/mummy-pizza/api/random-recipe');
                const data = await response.json();
                
                if (data.success) {
                    displayRecipe(data.recipe, data.videos, data.cooking_tip, data.emergency_protocol);
                } else {
                    alert('Recipe generation failed! Mummy ka mood off hai! Try again! üòï');
                }
            } catch (error) {
                alert('Error getting recipe! Internet ka chakkar hai! Try again! üòï');
            } finally {
                this.innerHTML = '<i class="fas fa-magic"></i> Generate Another Recipe!';
            }
        });

        // Enhanced Display single recipe with mom's touch
        function displayRecipe(recipe, videos = [], cookingTip = '', emergencyProtocol = null) {
            const container = document.getElementById('recipeDisplay');
            
            const videosHtml = videos.length > 0 ? `
                <div class="mt-4">
                    <h6><i class="fas fa-video"></i> Mummy Ke Favorite YouTube Channels:</h6>
                    <div class="row">
                        ${videos.map((video, index) => `
                            <div class="col-md-6 mb-2">
                                <div class="card video-card">
                                    <div class="card-body p-3">
                                        <h6 class="card-title" style="font-size: 0.9rem;">${video.title}</h6>
                                        <small class="text-muted">
                                            <i class="fas fa-tv"></i> ${video.channel} 
                                            ${video.mom_favorite ? '‚ù§Ô∏è Mom\'s Choice!' : ''}
                                            <br>
                                            <i class="fas fa-clock"></i> ${video.duration} | 
                                            <i class="fas fa-eye"></i> ${video.views}
                                        </small>
                                        <br>
                                        <a href="${video.url}" target="_blank" class="btn btn-primary btn-sm mt-2">
                                            <i class="fas fa-play"></i> Watch Video
                                        </a>
                                        ${video.search_tip ? `<br><small class="text-info"><i class="fas fa-lightbulb"></i> ${video.search_tip}</small>` : ''}
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            ` : '';

            const emergencyHtml = emergencyProtocol ? `
                <div class="alert alert-warning mt-3">
                    <h6><i class="fas fa-exclamation-triangle"></i> Emergency Protocol (Agar Mummy Angry Ho Jaye):</h6>
                    <p class="mb-1"><strong>Situation:</strong> ${emergencyProtocol.situation}</p>
                    <p class="mb-1"><strong>Solution:</strong> ${emergencyProtocol.solution}</p>
                    <p class="mb-0"><strong>Backup Plan:</strong> ${emergencyProtocol.backup}</p>
                </div>
            ` : '';

            container.innerHTML = `
                <div class="recipe-card mt-4">
                    <div class="text-center mb-3">
                        <h3>${recipe.name} üç≥</h3>
                        <p class="lead">${recipe.description}</p>
                    </div>
                    
                    <div class="row text-center mb-4">
                        <div class="col-3">
                            <div class="badge bg-light text-dark">
                                <i class="fas fa-clock"></i> ${recipe.time}
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="badge bg-light text-dark">
                                <i class="fas fa-chart-bar"></i> ${recipe.difficulty}
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="badge bg-light text-dark">
                                <i class="fas fa-heart"></i> ${recipe.mom_approval}
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="badge bg-light text-dark">
                                <i class="fas fa-star"></i> ${recipe.taste_rating}
                            </div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            <h6><i class="fas fa-shopping-basket"></i> Ingredients Sabse Zaroori:</h6>
                            <div class="mb-3">
                                ${recipe.ingredients.map(ing => `<span class="badge bg-light text-dark me-1 mb-1">${ing}</span>`).join('')}
                            </div>
                            
                            ${recipe.mom_tips ? `
                                <div class="alert alert-info">
                                    <h6><i class="fas fa-lightbulb"></i> Mummy Ka Special Tip:</h6>
                                    <p class="mb-0">"${recipe.mom_tips}"</p>
                                </div>
                            ` : ''}
                            
                            ${recipe.secret_ingredient ? `
                                <div class="alert alert-success">
                                    <h6><i class="fas fa-magic"></i> Secret Ingredient (Shh! ü§´):</h6>
                                    <p class="mb-0">${recipe.secret_ingredient}</p>
                                </div>
                            ` : ''}
                        </div>
                        <div class="col-md-6">
                            <h6><i class="fas fa-list-ol"></i> Steps (Ek Ek Karke Follow Karo):</h6>
                            <ol style="font-size: 0.95rem; line-height: 1.6;">
                                ${recipe.steps.map(step => `<li>${step}</li>`).join('')}
                            </ol>
                            
                            ${recipe.angry_mom_mode ? `
                                <div class="alert alert-danger">
                                    <h6><i class="fas fa-fire"></i> Angry Mom Mode Defense:</h6>
                                    <p class="mb-0">${recipe.angry_mom_mode}</p>
                                </div>
                            ` : ''}
                            
                            ${recipe.backup_plan ? `
                                <div class="alert alert-warning">
                                    <h6><i class="fas fa-shield-alt"></i> Plan B (Agar Sab Fail):</h6>
                                    <p class="mb-0">${recipe.backup_plan}</p>
                                </div>
                            ` : ''}
                        </div>
                    </div>
                    
                    ${videosHtml}
                    
                    ${cookingTip ? `
                        <div class="alert alert-primary mt-3">
                            <h6><i class="fas fa-chef-hat"></i> Aaj Ka Cooking Gyaan:</h6>
                            <p class="mb-0">"${cookingTip}"</p>
                        </div>
                    ` : ''}
                    
                    ${emergencyHtml}
                    
                    <div class="text-center mt-4">
                        <button class="btn btn-light me-2" onclick="shareRecipe('${recipe.name}')">
                            <i class="fas fa-share"></i> Share Recipe
                        </button>
                        <button class="btn btn-outline-light me-2" onclick="generateAnother()">
                            <i class="fas fa-redo"></i> Aur Dikhao
                        </button>
                        <button class="btn btn-warning" onclick="showCookingTimer('${recipe.time}')">
                            <i class="fas fa-stopwatch"></i> Timer Start
                        </button>
                    </div>
                </div>
            `;
            
            currentRecipe = recipe;
            container.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        // Generate another recipe
        function generateAnother() {
            document.getElementById('generateRandomBtn').click();
        }

        // Share recipe
        function shareRecipe(recipeName = null) {
            const name = recipeName || (currentRecipe ? currentRecipe.name : 'Amazing Recipe');
            const text = `Dekho kitni amazing recipe mili hai: ${name} from Ultimate Recipe Hub! Mummy bhi approve karengi! üç≥‚ú®`;
            
            if (navigator.share) {
                navigator.share({
                    title: name,
                    text: text,
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(`${text} ${window.location.href}`).then(() => {
                    alert('Recipe link copied! WhatsApp mein share kar do! üìã‚ú®');
                });
            }
        }

        // Add cooking timer function
        function showCookingTimer(timeString) {
            const minutes = parseInt(timeString.match(/\d+/)[0]);
            alert(`‚è∞ Timer set for ${minutes} minutes! \n\nüí° Pro Tip: Kitchen se bahar mat jao aur mummy ko smell se pata chal jayega agar kuch burn ho raha hai! \n\nüë©‚Äçüë¶ Remember: "Khana banate time phone nahi chalana!" - Every Mummy Ever üòÖ`);
            
            // You can implement actual timer functionality here
            console.log(`Timer started for ${minutes} minutes`);
        }

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            // Add some fun animations
            const elements = document.querySelectorAll('.recipe-hub > *');
            elements.forEach((el, index) => {
                el.style.animation = `fadeInUp 0.6s ease forwards ${index * 0.1}s`;
                el.style.opacity = '0';
                el.style.transform = 'translateY(20px)';
            });
        });

        // CSS animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeInUp {
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>